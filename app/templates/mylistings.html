{% extends 'base.html' %}

{% block content %}

<div id="my-listings-wrapper">
	<h1>{{ g.name }}'s listings</h1>
	<table id="my-listings-table" class="table">
	{% for listing in listings %}
		<tr>
			<td><a href="{{ listing.url }}"><img class="bike-pic-sm" src="{{ listing.photo }}"></a></td>
			<td> 
				<a href="{{ listing.url }}"><h4>{{ listing.title }}</h4></a>
				<strong>Price:</strong> ${{ listing.price }}.00<br>
				<strong>Posted on:</strong> {{ listing.date.strftime('%m-%d-%Y') }}<br>
				<a class="delete-listing" data-id="{{listing.id}}" >Delete</a>
			</td>
		</tr>

	{% endfor %}

	{% if listings == [] %}
		<h4> You haven't listed any bikes yet.</h4>
	{% endif %}

	</table>
</div>

	<div class="modal fade" id="delete-modal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
		  <div class="modal-content">
		    <div class="modal-header">
		      <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
		      <h4 class="modal-title" id="myModalLabel">Confirm Delete</h4>
		    </div>
		    <div class="modal-body">
		      <h3>Are you sure you want to delete your listing?</h3>
		    </div>
		    <div class="modal-footer">
		    	<button type="button" class="cancel btn btn-default" data-dismiss="modal">Cancel</button>
		    	<button type="button" class="confirm-delete btn btn-danger">Delete</button>
		    </div>
		  </div>
		</div>
	</div>
</table>

{% endblock %}

{% block scripts %}
	App.initialize("my-listings");
{% endblock %}

